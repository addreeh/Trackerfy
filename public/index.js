let urlParams=new URLSearchParams(window.location.search),errorParam=urlParams.get("error");if(errorParam){let e=document.querySelector("body>section:nth-of-type(3)");e.style.display="flex",document.getElementById("error-message").innerHTML="Something went wrong, try it again.",e.addEventListener("click",(function(t){t.target===e&&(e=document.querySelector("body>section:nth-of-type(3)"),e.style.display="none")})),document.querySelector(".error-content button").addEventListener("click",(()=>{e=document.querySelector("body>section:nth-of-type(3)"),e.style.display="none"}))}let loadingOverlay=document.querySelector("body>section:first-of-type");fetch("/indexdata").then((e=>e.json())).then((e=>{loadingOverlay.style.display="none",updatePage(e.matriz1,"header"),updatePage(e.matriz2,"footer")})).catch((e=>{console.error("Error al obtener datos:",e),loadingOverlay.style.display="none"}));let modalContainer=document.querySelector("body>section:nth-of-type(2)");function updatePage(e,t){const n=document.querySelector(`${t}`);e.forEach((e=>{e.forEach((e=>{const t=document.createElement("div");if(t.className="cell",e&&e.image){const n=document.createElement("img");n.src=e.image,n.alt=e.name,t.appendChild(n)}n.appendChild(t)}))}))}function updateText(e){document.querySelector(".modal-content p").innerHTML=["On <span class='green'>Phone</span> just hold on the playlist, and tap on share. Then select Share URL.","On <span class='green'>PC</span> just right-click on the playlist, then click on share and select copy URL."][e]}document.querySelector(".question h3").addEventListener("click",(()=>{modalContainer.classList.add("active")})),modalContainer.addEventListener("click",(e=>{e.target===modalContainer&&modalContainer.classList.remove("active")})),document.querySelector(".fields button").addEventListener("click",(()=>{const e=document.querySelector(".fields input").value.trim();if(""!==e&&/^https:\/\/open\.spotify\.com\/playlist\//.test(e))fetch("/submitPlaylist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urlInput:e})}).then((e=>e.json())).then((e=>{window.location.href="/playlist"})).catch((e=>{console.error("Error al enviar datos al servidor:",e),displayError("Error al enviar la playlist al servidor.")}));else{let e=document.querySelector("body>section:nth-of-type(3)");e.style.display="flex",document.getElementById("error-message").innerHTML="The playlist URL is not valid.",e.addEventListener("click",(function(t){t.target===e&&(e=document.querySelector("body>section:nth-of-type(3)"),e.style.display="none")})),document.querySelector(".error-content button").addEventListener("click",(()=>{e=document.querySelector("body>section:nth-of-type(3)"),e.style.display="none"}))}}));let slideIndex=0;function plusSlides(e){showSlides(slideIndex+=e)}function currentSlide(e){showSlides(slideIndex=e)}function showSlides(e){let t,n=document.getElementsByClassName("slides"),o=document.getElementsByClassName("dot");for(e>n.length&&(slideIndex=1),e<1&&(slideIndex=n.length),t=0;t<n.length;t++)n[t].style.display="none";for(t=0;t<o.length;t++)o[t].className=o[t].className.replace(" active","");n[slideIndex-1].style.display="block",o[slideIndex-1].className+=" active"}showSlides(slideIndex),document.querySelector(".prev").addEventListener("click",(()=>{updateText(slideIndex-1)})),document.querySelector(".next").addEventListener("click",(()=>{plusSlides(1),updateText(slideIndex-1)}));